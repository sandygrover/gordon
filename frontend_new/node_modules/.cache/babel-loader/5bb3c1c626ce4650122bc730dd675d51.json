{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\satin\\\\Downloads\\\\fnt\\\\frontend\\\\src\\\\components\\\\forms\\\\CardForm\\\\CardForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\nimport { Button, Input, Form, Checkbox } from 'semantic-ui-react';\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\nimport styles from './CardForm.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddBank() {\n  _s();\n\n  let [responseData, setResponseData] = React.useState('');\n  let fetchData = React.useCallback(() => {\n    axios({\n      \"method\": \"GET\",\n      url: 'http://3.129.45.198/api/auth/get-card',\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => {\n      setResponseData(response.data.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  React.useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  const successAlert = () => {\n    Swal.fire({\n      title: 'successful',\n      text: 'Successfully card added  !!',\n      icon: 'success'\n    });\n  };\n\n  const validationSchema = yup.object({\n    number: yup.string('Enter your Card Number').min(16, 'Enter your Card Number').max(16, 'Enter your Card Number').matches(/^[0-9]+$/, \"Must be only digits\").required('Enter your Card Number').default(responseData[0] && responseData[0].card_number ? responseData[0].card_number : ''),\n    // expiry: yup.string('Enter your Expiry')\n    // .min(2,'Enter your Expiry')\n    // .max(2,'Enter your Expiry')\n    // .matches(/^[0-9]+$/, \"Must be only digits\")\n    // .required('Enter your Expiry'),\n    security: yup.string('Enter your cvv').min(3, 'Enter your cvv').max(4, 'Enter your cvv').matches(/^[0-9]+$/, \"Must be only digits\").required('Enter your cvv').default(responseData[0] && responseData[0].cvv ? responseData[0].cvv : ''),\n    name: yup.string('Enter your First Name').min(4, 'Enter your First Name').required('Enter your First Name').default(responseData[0] && responseData[0].first_name ? responseData[0].first_name : ''),\n    mm: yup.string('Enter your mm').required('Enter your mm').default(responseData[0] && responseData[0].expiry ? responseData[0].expiry.split('/')[0] : ''),\n    yy: yup.string('Enter your mm').required('Enter your mm').default(responseData[0] && responseData[0].expiry ? responseData[0].expiry.split('/')[1] : ''),\n    last: yup.string('Enter your Last Name').min(4, 'Enter your Last Name').required('Enter your last Name').default(responseData[0] && responseData[0].last_name ? responseData[0].last_name : '')\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.AddCard,\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Add Credit/Debit Card\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.info_block,\n      children: /*#__PURE__*/_jsxDEV(Formik, {\n        enableReinitialize: true,\n        initialValues: {\n          //  number:(responseData[0] && responseData[0].card_number) ? responseData[0].card_number : '',\n          //  mm:(responseData[0] && responseData[0].expiry) ? responseData[0].expiry.split('/')[0] : '',\n          //  yy:(responseData[0] && responseData[0].expiry) ? responseData[0].expiry.split('/')[1] : '',\n          //  security:(responseData[0] && responseData[0].cvv) ? responseData[0].cvv : '',\n          //  name:(responseData[0] && responseData[0].first_name) ? responseData[0].first_name : '',\n          //  last:(responseData[0] && responseData[0].last_name) ? responseData[0].last_name : ''\n          number: '',\n          mm: '',\n          yy: '',\n          security: '',\n          name: '',\n          last: ''\n        },\n        validationSchema: validationSchema //  validateOnChange={false}\n        ,\n        validateOnBlur: true,\n        onSubmit: (values, actions) => {\n          console.log(values);\n          axios({\n            method: 'post',\n            url: 'http://3.129.45.198/api/auth/add-card',\n            headers: {\n              \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n            },\n            data: {\n              card_number: values.number,\n              expiry: values.mm + '/' + values.yy,\n              cvv: values.security,\n              first_name: values.name,\n              last_name: values.last,\n              is_active: values.is_active == 0 ? 1 : 0\n            }\n          }).then(function (response) {\n            Swal.fire({\n              title: 'Success',\n              text: response.data.message,\n              icon: 'success'\n            }).then(() => {\n              actions.setSubmitting(false);\n            });\n          });\n        },\n        children: ({\n          touched,\n          errors,\n          onChange,\n          values,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          isSubmitting\n        }) => /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              name: \"number\",\n              type: \"Card number\",\n              onChange: handleChange,\n              defaultValue: responseData[0] && responseData[0].card_number,\n              onBlur: handleBlur,\n              className: styles.input,\n              placeholder: \"Card Number\",\n              error: !!touched.number && !!errors.number\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 13\n            }, this), errors.number && touched.number && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: 'error-text',\n              children: errors.number\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.inline_fields,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginRight: '10px'\n              },\n              children: \"Expiry\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"expiry\",\n              name: \"mm\",\n              defaultValue: responseData[0] && responseData[0].expiry.split(\"/\")[0],\n              className: styles.input,\n              placeholder: \"MM\",\n              onBlur: handleBlur,\n              onChange: handleChange,\n              error: !!touched.mm && !!errors.mm\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 13\n            }, this), errors.mm && touched.mm && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: '10px'\n              },\n              children: errors.mm\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"expiry\",\n              name: \"yy\",\n              defaultValue: responseData[0] && responseData[0].expiry.split(\"/\")[1],\n              className: styles.input,\n              placeholder: \"YY\",\n              onBlur: handleBlur,\n              onChange: handleChange,\n              error: !!touched.yy && !!errors.yy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 13\n            }, this), errors.yy && touched.yy && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: '10px'\n              },\n              children: errors.yy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"security\",\n              name: \"security\",\n              defaultValue: responseData[0] && responseData[0].cvv,\n              className: styles.input,\n              placeholder: \"Security Code\",\n              onBlur: handleBlur,\n              onChange: handleChange,\n              error: !!touched.security && !!errors.security\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 13\n            }, this), errors.security && touched.security && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: errors.security\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"name\",\n              defaultValue: responseData[0] && responseData[0].first_name,\n              name: \"name\",\n              className: styles.input,\n              placeholder: \"First Name\",\n              onBlur: handleBlur,\n              onChange: handleChange,\n              error: !!touched.name && !!errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 13\n            }, this), errors.name && touched.name && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"last\",\n              defaultValue: responseData[0] && responseData[0].last_name,\n              name: \"last\",\n              className: styles.input,\n              placeholder: \"Last Name\",\n              onBlur: handleBlur,\n              onChange: handleChange,\n              error: !!touched.last && !!errors.last\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 13\n            }, this), errors.last && touched.last && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: errors.last\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.inline_fields,\n            style: {\n              marginTop: 25\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"You can remove this card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n              name: \"is_active\",\n              defaultValue: responseData[0] && responseData[0].is_active == 0 ? 1 : 0,\n              toggle: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.button_submit,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              disabled: isSubmitting,\n              loading: isSubmitting // onClick={PostData}\n              ,\n              className: styles.button_fluid,\n              primary: true,\n              type: \"submit\",\n              children: \"Add Card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddBank, \"HpmG/lVevsjaqYOSEkwN1KVJUdc=\");\n\n_c = AddBank;\nexport default AddBank;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddBank\");","map":{"version":3,"sources":["C:/Users/satin/Downloads/fnt/frontend/src/components/forms/CardForm/CardForm.js"],"names":["React","useState","Swal","axios","Button","Input","Form","Checkbox","Formik","yup","styles","AddBank","responseData","setResponseData","fetchData","useCallback","url","headers","localStorage","getItem","then","response","data","catch","error","console","log","useEffect","submitSuccess","setSubmitSuccess","successAlert","fire","title","text","icon","validationSchema","object","number","string","min","max","matches","required","default","card_number","security","cvv","name","first_name","mm","expiry","split","yy","last","last_name","AddCard","info_block","values","actions","method","is_active","message","setSubmitting","touched","errors","onChange","handleChange","handleBlur","handleSubmit","isSubmitting","input","inline_fields","marginRight","marginLeft","marginTop","button_submit","button_fluid"],"mappings":"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","sourcesContent":["import React, {useState }from 'react';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\nimport { Button, Input, Form, Checkbox } from 'semantic-ui-react';\nimport {Formik } from 'formik';\nimport * as yup from 'yup';\nimport styles from './CardForm.module.scss';\n\nfunction AddBank() {\n  let [responseData, setResponseData] = React.useState('');\n  let fetchData = React.useCallback(() => {\n    axios({\n      \"method\": \"GET\",\n      url: 'http://3.129.45.198/api/auth/get-card',\n      headers: {\n        \"Authorization\" : `Bearer ${localStorage.getItem('token')}`\n      },\n    })\n    .then((response) => {\n      setResponseData(response.data.data)\n\n    })\n    .catch((error) => {\n      console.log(error)\n    })\n  }, [])\n  React.useEffect(() => {\n    fetchData()\n  }, [fetchData])\n\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n  const successAlert = () => {\n    Swal.fire({\n        title: 'successful',\n        text: 'Successfully card added  !!',\n        icon: 'success'\n    });\n  }\n\n  const validationSchema = yup.object({\n    number: yup.string('Enter your Card Number')\n    .min(16,'Enter your Card Number')\n    .max(16,'Enter your Card Number')\n    .matches(/^[0-9]+$/, \"Must be only digits\")\n    .required('Enter your Card Number')\n    .default((responseData[0] && responseData[0].card_number) ? responseData[0].card_number : '' ),\n    // expiry: yup.string('Enter your Expiry')\n    // .min(2,'Enter your Expiry')\n    // .max(2,'Enter your Expiry')\n    // .matches(/^[0-9]+$/, \"Must be only digits\")\n    // .required('Enter your Expiry'),\n    security: yup.string('Enter your cvv')\n    .min(3,'Enter your cvv')\n    .max(4,'Enter your cvv')\n    .matches(/^[0-9]+$/, \"Must be only digits\")\n    .required('Enter your cvv')\n    .default((responseData[0] && responseData[0].cvv) ? responseData[0].cvv : '' ),\n    name: yup.string('Enter your First Name')\n    .min(4,'Enter your First Name')\n    .required('Enter your First Name')\n    .default((responseData[0] && responseData[0].first_name) ? responseData[0].first_name : '' ),\n    mm: yup.string('Enter your mm')\n    .required('Enter your mm')\n    .default((responseData[0] && responseData[0].expiry) ? (responseData[0].expiry).split('/')[0] : '' ),\n    yy: yup.string('Enter your mm')\n    .required('Enter your mm')\n    .default((responseData[0] && responseData[0].expiry) ? (responseData[0].expiry).split('/')[1] : '' ),\n    last: yup.string('Enter your Last Name')\n    .min(4,'Enter your Last Name')\n    .required('Enter your last Name')\n    .default((responseData[0] && responseData[0].last_name) ? responseData[0].last_name : '' ),\n  })\n\n  return (\n    <div className={styles.AddCard}>\n      <h4>Add Credit/Debit Card</h4>\n      <div className={styles.info_block}>\n       <Formik\n        enableReinitialize={true}\n       initialValues={{\n        //  number:(responseData[0] && responseData[0].card_number) ? responseData[0].card_number : '',\n        //  mm:(responseData[0] && responseData[0].expiry) ? responseData[0].expiry.split('/')[0] : '',\n        //  yy:(responseData[0] && responseData[0].expiry) ? responseData[0].expiry.split('/')[1] : '',\n        //  security:(responseData[0] && responseData[0].cvv) ? responseData[0].cvv : '',\n        //  name:(responseData[0] && responseData[0].first_name) ? responseData[0].first_name : '',\n        //  last:(responseData[0] && responseData[0].last_name) ? responseData[0].last_name : ''\n          number:'',\n          mm:'',\n          yy:'',\n          security:'',\n          name:'',\n          last:''\n       }}\n       validationSchema={validationSchema}\n      //  validateOnChange={false}\n       validateOnBlur={true}\n       onSubmit={(values, actions) =>{\n         console.log(values);\n        axios({\n          method: 'post',\n          url: 'http://3.129.45.198/api/auth/add-card',\n          headers: {\n            \"Authorization\" : `Bearer ${localStorage.getItem('token')}`\n          },\n          data: {\n            card_number:values.number,\n            expiry:values.mm+'/'+values.yy,\n            cvv:values.security,\n            first_name:values.name,\n            last_name:values.last,\n            is_active:values.is_active == 0 ? 1 : 0\n          },\n        }).then(function(response) {\n          Swal.fire({\n            title: 'Success',\n            text: response.data.message,\n            icon: 'success'\n          }).then(() => {\n            actions.setSubmitting(false);\n          });\n        });\n       }}>\n         {({ touched, errors, onChange, values, handleChange, handleBlur, handleSubmit, isSubmitting }) => (\n        <Form onSubmit={handleSubmit}>\n          <Form.Field>\n            <Input\n            name=\"number\"\n            type=\"Card number\"\n            onChange={handleChange}\n            defaultValue={responseData[0] && responseData[0].card_number}\n            onBlur={handleBlur}\n            className={styles.input}\n            placeholder=\"Card Number\"\n            error={!!touched.number && !!errors.number}\n            />\n            {errors.number && touched.number && <span className={'error-text'}>{errors.number}</span>}\n          </Form.Field>\n          <div className={styles.inline_fields}>\n            <p style={{marginRight:'10px'}}>Expiry</p>\n            <Input\n            type=\"expiry\"\n            name=\"mm\"\n            defaultValue={responseData[0] && (responseData[0].expiry).split(\"/\")[0]}\n            className={styles.input}\n            placeholder=\"MM\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            error={!!touched.mm && !!errors.mm}\n            />\n            {errors.mm && touched.mm && <span style={{marginLeft:'10px'}}>{errors.mm}</span>}\n            <Input\n             type=\"expiry\"\n             name=\"yy\"\n             defaultValue={responseData[0] && (responseData[0].expiry).split(\"/\")[1]}\n             className={styles.input}\n             placeholder=\"YY\"\n             onBlur={handleBlur}\n             onChange={handleChange}\n             error={!!touched.yy && !!errors.yy}\n            />\n              {errors.yy && touched.yy && <span style={{marginLeft:'10px'}}>{errors.yy}</span>}\n          </div>\n          <Form.Field>\n            <Input\n            type=\"security\"\n            name=\"security\"\n            defaultValue={responseData[0] && responseData[0].cvv}\n            className={styles.input}\n            placeholder=\"Security Code\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            error={!!touched.security && !!errors.security}\n            />\n            {errors.security && touched.security && <span>{errors.security}</span>}\n          </Form.Field>\n          <Form.Field>\n            <Input\n            type=\"name\"\n            defaultValue={responseData[0] && responseData[0].first_name}\n            name=\"name\"\n            className={styles.input}\n            placeholder=\"First Name\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            error={!!touched.name && !!errors.name}\n            />\n            {errors.name && touched.name && <span>{errors.name}</span>}\n          </Form.Field>\n          <Form.Field>\n            <Input\n            type='last'\n            defaultValue={responseData[0] && responseData[0].last_name}\n            name=\"last\"\n            className={styles.input}\n            placeholder=\"Last Name\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            error={!!touched.last && !!errors.last}\n            />\n            {errors.last && touched.last && <span>{errors.last}</span>}\n          </Form.Field>\n          <div className={styles.inline_fields} style={{ marginTop: 25 }}>\n            <span>You can remove this card</span>\n            <Checkbox name=\"is_active\" defaultValue={responseData[0] && responseData[0].is_active == 0 ? 1 : 0 } toggle />\n          </div>\n          <div className={styles.button_submit}>\n            {/* <Button primary\n            onClick={successAlert}\n            disabled={isSubmitting}\n            loading={isSubmitting}\n            > */}\n            {/* <Button\n              disabled={isSubmitting}\n              loading={isSubmitting}\n              className={styles.button_fluid}\n              primary\n              type=\"submit\"\n            >\n            <span>+ </span>Add Card\n            </Button> */}\n            <Button\n              disabled={isSubmitting}\n              loading={isSubmitting}\n              // onClick={PostData}\n              className={styles.button_fluid}\n              primary\n              type=\"submit\"\n            >\n              Add Card\n            </Button>\n          </div>\n        </Form>\n        )}\n        </Formik>\n      </div>\n    </div>\n  );\n}\n\nexport default AddBank;\n"]},"metadata":{},"sourceType":"module"}