{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\satin\\\\Downloads\\\\fnt\\\\frontend\\\\src\\\\components\\\\forms\\\\EmailUpdate\\\\EmailUpdate.js\";\nimport Swal from 'sweetalert2';\nimport { Button, Form, Input } from 'semantic-ui-react';\nimport axios from 'axios';\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\nimport styles from './EmailUpdate.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validationSchema = yup.object({// email: yup\n  //   .string('Enter your email')\n  //   .email(\"Enter a valid email\")\n  //   .required('Email is required')\n});\n\nfunction EmailUpdate() {\n  const successAlert = () => {\n    Swal.fire({\n      title: 'successful',\n      text: 'Your email has been updated.',\n      icon: 'success'\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.form,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: styles.title,\n      children: \"Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        email: ''\n      },\n      validationSchema: validationSchema,\n      validationOnChange: false,\n      validationOnBlur: true,\n      onSubmit: (values, actions) => {\n        axios({\n          method: 'post',\n          url: 'http://3.129.45.198/api/auth/update-profile',\n          headers: {\n            \"Authorization\": `Bearer ${localStorage.getItem('token')}`,\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          data: {\n            username: localStorage.getItem('username'),\n            name: localStorage.getItem('name'),\n            phone_number: localStorage.getItem('phone_number'),\n            email: values.email,\n            subscription_fee: localStorage.getItem('subscription_fee'),\n            location: localStorage.getItem('location'),\n            website: localStorage.getItem('website'),\n            profile: ''\n          }\n        }).then(function (response) {\n          if (response.data.status) {\n            localStorage.setItem('email', response.data.data[0].email);\n            localStorage.setItem('name', response.data.data[0].name);\n            localStorage.setItem('username', response.data.data[0].username);\n            localStorage.setItem('website', response.data.data[0].website);\n            localStorage.setItem('subscription_fee', response.data.data[0].subscription_fee);\n            localStorage.setItem('location', response.data.data[0].location);\n            Swal.fire({\n              title: 'Success',\n              text: 'Email Updated Successfully',\n              icon: 'success'\n            }).then(() => {\n              actions.setSubmitting(false);\n            });\n          } else {\n            Swal.fire({\n              title: 'Error',\n              text: response.data.message,\n              icon: 'warning'\n            }).then(() => {\n              actions.setSubmitting(false);\n            });\n          }\n        }).catch(res => {\n          window.location.reload(false);\n        });\n      },\n      children: ({\n        touched,\n        errors,\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        isSubmitting\n      }) => /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.label,\n            children: \"Your Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: \"required\",\n            placeholder: \"Email\" // onChange={handleBlur}\n            ,\n            defaultValue: localStorage.getItem('email'),\n            name: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.button_submit,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disabled: isSubmitting,\n            loading: isSubmitting,\n            primary: true,\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n\n_c = EmailUpdate;\nexport default EmailUpdate;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmailUpdate\");","map":{"version":3,"sources":["C:/Users/satin/Downloads/fnt/frontend/src/components/forms/EmailUpdate/EmailUpdate.js"],"names":["Swal","Button","Form","Input","axios","Formik","yup","styles","validationSchema","object","EmailUpdate","successAlert","fire","title","text","icon","form","email","values","actions","method","url","headers","localStorage","getItem","data","username","name","phone_number","subscription_fee","location","website","profile","then","response","status","setItem","setSubmitting","message","catch","res","window","reload","touched","errors","handleChange","handleBlur","handleSubmit","isSubmitting","label","button_submit"],"mappings":"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","sourcesContent":["import Swal from 'sweetalert2';\nimport { Button, Form, Input } from 'semantic-ui-react';\nimport axios from 'axios';\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\nimport styles from './EmailUpdate.module.scss';\nconst validationSchema = yup.object({\n  // email: yup\n  //   .string('Enter your email')\n  //   .email(\"Enter a valid email\")\n  //   .required('Email is required')\n});\n\nfunction EmailUpdate() {\n  const successAlert = () => {\n    Swal.fire({\n        title: 'successful',\n        text: 'Your email has been updated.',\n        icon: 'success'\n      });\n}\n\n  return (\n    <div className={styles.form}>\n      <h3 className={styles.title}>Email</h3>\n      <Formik\n        initialValues={{\n          email:''\n        }}\n        validationSchema={validationSchema}\n        validationOnChange={false}\n        validationOnBlur={true}\n        onSubmit={(values, actions) =>{\n\n          axios({\n            method: 'post',\n            url: 'http://3.129.45.198/api/auth/update-profile',\n            headers: {\n              \"Authorization\" : `Bearer ${localStorage.getItem('token')}`,\n              'Accept' : 'application/json',\n              'Content-Type': 'application/json'\n            },\n            data: {\n              username: localStorage.getItem('username'),\n              name: localStorage.getItem('name'),\n              phone_number: localStorage.getItem('phone_number'),\n              email: values.email,\n              subscription_fee: localStorage.getItem('subscription_fee'),\n              location: localStorage.getItem('location'),\n              website: localStorage.getItem('website'),\n              profile: ''\n            },\n          })\n            .then(function(response) {\n              if(response.data.status) {\n                localStorage.setItem('email', response.data.data[0].email);\n                localStorage.setItem('name', response.data.data[0].name);\n                localStorage.setItem('username', response.data.data[0].username);\n                localStorage.setItem('website', response.data.data[0].website);\n                localStorage.setItem('subscription_fee', response.data.data[0].subscription_fee);\n                localStorage.setItem('location', response.data.data[0].location);\n\n                Swal.fire({\n                  title: 'Success',\n                  text: 'Email Updated Successfully',\n                  icon: 'success'\n                }).then(() => {\n                  actions.setSubmitting(false)\n                });\n              } else {\n                Swal.fire({\n                  title: 'Error',\n                  text: response.data.message,\n                  icon: 'warning'\n                }).then(() => {\n                  actions.setSubmitting(false)\n                });\n              }\n          }).catch(res => {\n            window.location.reload(false);\n          });\n\n\n        }}\n      >\n        {({touched, errors, handleChange, handleBlur,handleSubmit, isSubmitting}) =>(\n      <Form onSubmit={handleSubmit}>\n        <Form.Field>\n          <label className={styles.label}>Your Email</label>\n          <input required=\"required\" placeholder=\"Email\"\n            // onChange={handleBlur}\n            defaultValue={localStorage.getItem('email')}\n            name=\"email\"\n           />\n           {errors.email && touched.email && <span >{errors.email}</span>}\n        </Form.Field>\n\n        <div className={styles.button_submit}>\n          <Button\n          disabled={isSubmitting}\n          loading={isSubmitting}\n          primary  >Update</Button>\n        </div>\n      </Form>\n        )}\n      </Formik>\n\n    </div>\n  );\n}\n\nexport default EmailUpdate;\n"]},"metadata":{},"sourceType":"module"}