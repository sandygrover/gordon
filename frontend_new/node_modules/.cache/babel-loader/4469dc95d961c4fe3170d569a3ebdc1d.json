{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\satin\\\\Downloads\\\\fnt\\\\frontend\\\\src\\\\components\\\\PostCard\\\\PostCard.js\",\n    _s = $RefreshSig$();\n\nimport moment from 'moment';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { Image, Dropdown } from 'semantic-ui-react';\nimport TipForm from '../forms/TipForm/TipForm';\nimport HeartLinearIcon from '../icons/HeartLinearIcon';\nimport MessageLinearIcon from '../icons/MessageLinearIcon';\nimport DollarLinearIcon from '../icons/DollarLinearIcon';\nimport styles from './PostCard.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet is_like = 0;\n\nfunction PostCard(postfromParent) {\n  _s();\n\n  const [openTipForm, SetOpenTipform] = useState(false);\n  const [count, setCount] = useState(postfromParent.postfromParent.is_like);\n  const [likeCount, setLikecount] = useState(postfromParent.postfromParent.like.length);\n  const [isHide, setisHide] = useState(postfromParent.postfromParent.is_hide);\n  is_like = postfromParent.postfromParent.is_like;\n\n  const tipHandler = (open = false, otherUserProfile = null, otherUserName = '', otherUserUserName) => {\n    localStorage.setItem('otherUserProfile', otherUserProfile);\n    localStorage.setItem('otherUserName', otherUserName);\n    localStorage.setItem('otherUserUserName', otherUserUserName);\n    SetOpenTipform(open);\n  };\n\n  function stringToDate(date) {\n    return moment(date).fromNow() + ' ' + moment(date).format('h:m');\n  }\n\n  function doLike(postId) {\n    axios({\n      method: 'POST',\n      url: 'http://3.129.45.198/api/auth/posts/like',\n      data: {\n        post_id: postId,\n        like: 1\n      },\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      Swal.fire({\n        title: 'successful',\n        text: response.data.message,\n        icon: 'success'\n      });\n      setCount(response.data.data);\n\n      if (response.data.data == 0) {\n        setLikecount(likeCount - 1);\n      } else {\n        setLikecount(likeCount + 1);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  function HidePost(id) {\n    axios({\n      method: 'GET',\n      url: 'http://3.129.45.198/api/auth/posts/' + id + '/hide',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      let isHide1 = isHide == 0 ? 1 : 0;\n      let message = isHide1 == 0 ? 'Post Hide Successfully' : 'Post Show Successfully';\n      setisHide(isHide1);\n      Swal.fire({\n        title: 'Success',\n        text: message,\n        icon: 'success'\n      }).then(() => {});\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  function DeletePost(id) {\n    axios({\n      method: 'DELETE',\n      url: 'http://3.129.45.198/api/auth/posts/' + id,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      window.location.reload();\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  function isFileImage(str) {\n    if (typeof str !== 'string') return false;\n    return !!str.match(/\\w+\\.(jpg|jpeg|gif|png|tiff|bmp)$/gi);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.card,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.author,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.about,\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          src: postfromParent && postfromParent.postfromParent.user != null && postfromParent.postfromParent.user != 'null' ? postfromParent.postfromParent.user.profile : process.env.PUBLIC_URL + '/images/avatar/julia.png',\n          size: \"mini\",\n          alt: \"Juila\",\n          avatar: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.user_status,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: postfromParent && (postfromParent.postfromParent.user == 'null' || postfromParent.postfromParent.user == null) ? 'Un Known' : postfromParent.postfromParent.user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: stringToDate(postfromParent && postfromParent.postfromParent.created_at)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.menu,\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          icon: \"ellipsis vertical\",\n          children: /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n            style: {\n              marginLeft: '-75px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              style: {\n                display: postfromParent.postfromParent.user != null && postfromParent.postfromParent.user.id == localStorage.getItem('userId') ? 'block' : 'none'\n              },\n              text: \"Edit Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              onClick: () => HidePost(postfromParent.postfromParent.id),\n              text: isHide == 0 ? 'Hide Post' : 'Show Post'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              onClick: () => DeletePost(postfromParent.postfromParent.id),\n              text: \"Delete Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.feed_content,\n      children: postfromParent && postfromParent.postfromParent.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.media,\n      children: isFileImage(postfromParent.postfromParent.meta_data) ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: postfromParent && postfromParent.postfromParent.meta_data,\n        alt: \"media\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 66\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          style: {\n            width: '100%'\n          },\n          className: \"video-container video-container-overlay\",\n          autoPlay: \"true\",\n          loop: true,\n          muted: \"\",\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: postfromParent && postfromParent.postfromParent.meta_data,\n            type: \"video/mp4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 152\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.stats,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.stats_view,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [postfromParent && likeCount, \" Likes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [postfromParent && postfromParent.postfromParent.comment.length, \" Comments\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"$.15 tips\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.stats_actions,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => doLike(postfromParent.postfromParent.id),\n          children: /*#__PURE__*/_jsxDEV(HeartLinearIcon, {\n            is_like: count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/comments/${postfromParent.postfromParent.id}`,\n          style: {\n            width: '-4px'\n          },\n          children: /*#__PURE__*/_jsxDEV(MessageLinearIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => tipHandler(true, postfromParent.postfromParent.user != null && postfromParent.postfromParent.user != 'null' ? postfromParent.postfromParent.user.profile : null, postfromParent.postfromParent.user != null && postfromParent.postfromParent.user != 'null' ? postfromParent.postfromParent.user.name : null, postfromParent.postfromParent.user != null && postfromParent.postfromParent.user != 'null' ? postfromParent.postfromParent.user.username : null),\n          children: /*#__PURE__*/_jsxDEV(DollarLinearIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TipForm, {\n        setOpen: tipHandler,\n        open: openTipForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PostCard, \"p3X9HGN/aG1qOwO37uzeE9M0sLU=\");\n\n_c = PostCard;\nexport default PostCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostCard\");","map":{"version":3,"sources":["C:/Users/satin/Downloads/fnt/frontend/src/components/PostCard/PostCard.js"],"names":["moment","axios","Swal","Link","useState","useEffect","Image","Dropdown","TipForm","HeartLinearIcon","MessageLinearIcon","DollarLinearIcon","styles","is_like","PostCard","postfromParent","openTipForm","SetOpenTipform","count","setCount","likeCount","setLikecount","like","length","isHide","setisHide","is_hide","tipHandler","open","otherUserProfile","otherUserName","otherUserUserName","localStorage","setItem","stringToDate","date","fromNow","format","doLike","postId","method","url","data","post_id","headers","Authorization","getItem","Accept","then","response","fire","title","text","message","icon","catch","error","console","log","HidePost","id","isHide1","DeletePost","window","location","reload","isFileImage","str","match","card","author","about","user","profile","process","env","PUBLIC_URL","user_status","name","created_at","menu","marginLeft","display","feed_content","description","media","meta_data","width","stats","stats_view","comment","stats_actions","username"],"mappings":"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","sourcesContent":["import moment from 'moment';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { Image, Dropdown } from 'semantic-ui-react';\nimport TipForm from '../forms/TipForm/TipForm';\nimport HeartLinearIcon from '../icons/HeartLinearIcon';\nimport MessageLinearIcon from '../icons/MessageLinearIcon';\nimport DollarLinearIcon from '../icons/DollarLinearIcon';\nimport styles from './PostCard.module.scss';\n\nlet is_like = 0;\nfunction PostCard(postfromParent) {\n  const [openTipForm, SetOpenTipform] = useState(false);\n\n  const [count, setCount] = useState(postfromParent.postfromParent.is_like);\n  const [likeCount, setLikecount] = useState(postfromParent.postfromParent.like.length);\n  const [isHide, setisHide] = useState(postfromParent.postfromParent.is_hide);\n\n  is_like = postfromParent.postfromParent.is_like;\n\n  const tipHandler = (open = false, otherUserProfile = null, otherUserName = '', otherUserUserName) => {\n    localStorage.setItem('otherUserProfile', otherUserProfile);\n    localStorage.setItem('otherUserName', otherUserName);\n    localStorage.setItem('otherUserUserName', otherUserUserName);\n    SetOpenTipform(open);\n  };\n\n  function stringToDate(date) {\n    return moment(date).fromNow() + ' ' + moment(date).format('h:m');\n  }\n\n  function doLike(postId) {\n    axios({\n      method: 'POST',\n      url: 'http://3.129.45.198/api/auth/posts/like',\n      data: {\n        post_id: postId,\n        like: 1\n      },\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((response) => {\n        Swal.fire({\n          title: 'successful',\n          text: response.data.message,\n          icon: 'success'\n        });\n        setCount(response.data.data);\n        if (response.data.data == 0) {\n          setLikecount(likeCount - 1);\n        } else {\n          setLikecount(likeCount + 1);\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function HidePost(id) {\n    axios({\n      method: 'GET',\n      url: 'http://3.129.45.198/api/auth/posts/' + id + '/hide',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((response) => {\n        let isHide1 = isHide == 0 ? 1 : 0;\n        let message = isHide1 == 0 ? 'Post Hide Successfully' : 'Post Show Successfully';\n        setisHide(isHide1);\n        Swal.fire({\n          title: 'Success',\n          text: message,\n          icon: 'success'\n        }).then(() => {});\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function DeletePost(id) {\n    axios({\n      method: 'DELETE',\n      url: 'http://3.129.45.198/api/auth/posts/' + id,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((response) => {\n        window.location.reload();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function isFileImage(str) {\n    if ( typeof str !== 'string' ) return false;\n    return !!str.match(/\\w+\\.(jpg|jpeg|gif|png|tiff|bmp)$/gi);\n  }\n\n  return (\n    <div className={styles.card}>\n      <div className={styles.author}>\n        <div className={styles.about}>\n          {/* <Image src={process.env.PUBLIC_URL + '/images/avatar/julia.png'} size=\"mini\" alt=\"Juila\" avatar /> */}\n          <Image\n            src={\n              postfromParent &&\n              postfromParent.postfromParent.user != null &&\n              postfromParent.postfromParent.user != 'null'\n                ? postfromParent.postfromParent.user.profile\n                : process.env.PUBLIC_URL + '/images/avatar/julia.png'\n            }\n            size=\"mini\"\n            alt=\"Juila\"\n            avatar\n          />\n          <div className={styles.user_status}>\n            <strong>\n              {postfromParent &&\n              (postfromParent.postfromParent.user == 'null' || postfromParent.postfromParent.user == null)\n                ? 'Un Known'\n                : postfromParent.postfromParent.user.name}\n            </strong>\n            <span>{stringToDate(postfromParent && postfromParent.postfromParent.created_at)}</span>\n          </div>\n        </div>\n        <div className={styles.menu}>\n          <Dropdown icon=\"ellipsis vertical\">\n            <Dropdown.Menu style={{ marginLeft: '-75px' }}>\n              <Dropdown.Item\n                style={{\n                  display: postfromParent.postfromParent.user != null && postfromParent.postfromParent.user.id == localStorage.getItem('userId') ? 'block' : 'none'\n                }}\n                text=\"Edit Post\"\n              />\n              <Dropdown.Item\n                onClick={() => HidePost(postfromParent.postfromParent.id)}\n                text={isHide == 0 ? 'Hide Post' : 'Show Post'}\n              />\n              <Dropdown.Item onClick={() => DeletePost(postfromParent.postfromParent.id)} text=\"Delete Post\" />\n            </Dropdown.Menu>\n          </Dropdown>\n        </div>\n      </div>\n      <div className={styles.feed_content}>{postfromParent && postfromParent.postfromParent.description}</div>\n      <div className={styles.media}>\n        {/* <img src={process.env.PUBLIC_URL + '/images/onlyfansfaydee.jpg'} alt=\"media\" /> */}\n        {\n          isFileImage(postfromParent.postfromParent.meta_data) ? <img src={postfromParent && postfromParent.postfromParent.meta_data} alt=\"media\" /> : <div>\n            <video style={{ width:'100%' }} className=\"video-container video-container-overlay\" autoPlay=\"true\" loop muted=\"\">\n                <source src={ postfromParent && postfromParent.postfromParent.meta_data } type=\"video/mp4\" />\n            </video>\n          </div>\n        }\n      </div>\n      <div className={styles.stats}>\n        <div className={styles.stats_view}>\n          <div>{postfromParent && likeCount} Likes</div>\n          <div>\n            <span>{postfromParent && postfromParent.postfromParent.comment.length} Comments</span>\n            <span>$.15 tips</span>\n          </div>\n        </div>\n        <div className={styles.stats_actions}>\n          <span onClick={() => doLike(postfromParent.postfromParent.id)}>\n            <HeartLinearIcon is_like={count} />\n          </span>\n          <Link to={`/comments/${postfromParent.postfromParent.id}`}  style={{ width: '-4px' }}>\n            <MessageLinearIcon />\n          </Link>\n          <span onClick={() => tipHandler(true, (postfromParent.postfromParent.user != null && postfromParent.postfromParent.user != 'null') ? postfromParent.postfromParent.user.profile : null, (postfromParent.postfromParent.user != null && postfromParent.postfromParent.user != 'null') ? postfromParent.postfromParent.user.name : null , (postfromParent.postfromParent.user != null && postfromParent.postfromParent.user != 'null') ? postfromParent.postfromParent.user.username : null )}>\n            <DollarLinearIcon />\n          </span>\n        </div>\n        <TipForm setOpen={tipHandler} open={openTipForm} />\n      </div>\n    </div>\n  );\n}\n\nexport default PostCard;\n"]},"metadata":{},"sourceType":"module"}